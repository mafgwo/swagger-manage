(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca33f07a"],{"0b0e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{name:"info"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-document"}),e._v(" 接口信息")]),e._v(" "),e.item.summary&&e.item.summary.length>0?a("h2",[e._v(e._s(e.item.summary))]):e._e(),e._v(" "),a("div",[e._v("\n        服务接口PATH：\n        "),a("el-input",{staticStyle:{width:"700px"},attrs:{readonly:!0,size:"mini"},model:{value:e.item.path,callback:function(t){e.$set(e.item,"path",t)},expression:"item.path"}},[a("template",{slot:"prepend"},[e._v(e._s(e.item.method))])],2)],1),e._v(" "),e.item.gatewayUrl?a("div",{staticStyle:{"margin-top":"5px"}},[e._v("\n        网关接口地址：\n        "),a("el-input",{staticStyle:{width:"700px"},attrs:{readonly:!0,size:"mini"},model:{value:e.item.gatewayUrl,callback:function(t){e.$set(e.item,"gatewayUrl",t)},expression:"item.gatewayUrl"}},[a("template",{slot:"prepend"},[e._v(e._s(e.item.method))])],2)],1):e._e(),e._v(" "),a("div",{staticClass:"consumes-produces"},[a("span",{staticClass:"label"},[e._v("consumes:")]),a("span",{staticClass:"text"},[e._v(e._s((e.item.consumes||[]).join(", ")))])]),e._v(" "),a("div",{staticClass:"consumes-produces"},[a("span",{staticClass:"label"},[e._v("produces:")]),a("span",{staticClass:"text"},[e._v(e._s((e.item.produces||[]).join(", ")))])]),e._v(" "),a("h3",[e._v("接口描述")]),e._v(" "),a("div",{staticClass:"api-description"},[e._v(e._s(e.item.description))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.formatHeaders(e.item.requestParameters).length>0,expression:"formatHeaders(item.requestParameters).length > 0"}]},[a("h3",[e._v("请求Headers")]),e._v(" "),a("parameter-table",{attrs:{data:e.formatHeaders(e.item.requestParameters)}})],1),e._v(" "),a("h3",[e._v("请求参数")]),e._v(" "),a("parameter-table",{attrs:{data:e.formatParameters(e.item.requestParameters),"show-in":!0}}),e._v(" "),a("h3",[e._v("返回参数")]),e._v(" "),a("parameter-table",{attrs:{data:e.formatParameters(e.item.responseParameters)}}),e._v(" "),a("h3",[e._v("请求参数typescript代码")]),e._v(" "),a("pre",{staticClass:"normal-text"},[e._v(e._s(e.trans2TsInterfaceStr(e.item.requestParameters,!1)))]),e._v(" "),a("h3",[e._v("返回参数typescript代码")]),e._v(" "),a("pre",{staticClass:"normal-text"},[e._v(e._s(e.trans2TsInterfaceStr(e.item.responseParameters,!0)))]),e._v(" "),a("h3",[e._v("返回示例")]),e._v(" "),a("pre",{staticClass:"normal-text"},[e._v(e._s(JSON.stringify(e.createResponseExample(e.item.responseParameters),null,4)))])],1),e._v(" "),a("el-tab-pane",{attrs:{name:"debug"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-s-promotion"}),e._v(" 调试接口")]),e._v(" "),a("docdebug",{attrs:{item:e.item}})],1)],1)],1)},r=[],s=(a("aef6"),a("a481"),a("7f7f"),a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"doc-debug"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24-e.rightSpanSize}},[a("el-input",{staticClass:"request-url",model:{value:e.url,callback:function(t){e.url=t},expression:"url"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("\n          服务接口 "+e._s(e.currentMethod)+"\n        ")]),e._v(" "),a("el-button",{staticStyle:{width:"100px"},attrs:{slot:"append",loading:e.sendLoading},on:{click:e.send},slot:"append"},[e._v(" 发 送 ")])],1),e._v(" "),e.gatewayUrl?a("el-input",{staticClass:"request-url",staticStyle:{"margin-top":"5px"},model:{value:e.gatewayUrl,callback:function(t){e.gatewayUrl=t},expression:"gatewayUrl"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("\n          网关接口 "+e._s(e.currentMethod)+"\n        ")]),e._v(" "),a("el-button",{staticStyle:{width:"100px"},attrs:{slot:"append",loading:e.sendLoading},on:{click:e.sendGateway},slot:"append"},[e._v(" 发 送 ")])],1):e._e(),e._v(" "),e.gatewayUrl?a("el-input",{staticClass:"request-url",staticStyle:{"margin-top":"5px"},attrs:{placeholder:"网关token,用户登录成功后的token"},model:{value:e.authorization,callback:function(t){e.authorization=t},expression:"authorization"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("\n          网关token\n        ")])]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.requestInfo.pathData.length>0,expression:"requestInfo.pathData.length > 0"}],staticClass:"path-param"},[a("el-table",{attrs:{data:e.requestInfo.pathData,border:"","header-cell-style":e.cellStyle,"cell-style":e.cellStyle}},[a("el-table-column",{attrs:{prop:"name",label:"Path参数",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{model:t.row,size:"mini"}},[a("el-form-item",{attrs:{"label-width":"0"}},["enum"===t.row.type?a("div",[a("el-select",{model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}},e._l(t.row.enums,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1):a("div",[a("el-input",{model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}})],1)])],1)]}}])})],1)],1),e._v(" "),a("el-collapse",{staticStyle:{"margin-top":"10px"},attrs:{accordion:""},model:{value:e.collapseActive,callback:function(t){e.collapseActive=t},expression:"collapseActive"}},[a("el-collapse-item",{attrs:{title:"Headers",name:"header"}},[a("span",{staticClass:"result-header-label",attrs:{slot:"title"},slot:"title"},[a("span",[e._v("Headers "),a("span",{staticClass:"param-count"},[e._v("("+e._s(e.requestInfo.headerData.length+e.requestInfo.globalHeaderData.length)+")")])])]),e._v(" "),a("div",[a("h4",[e._v("全局Headers")]),e._v(" "),a("el-table",{attrs:{data:e.requestInfo.globalHeaderData,border:"","header-cell-style":e.cellStyleSmall(),"cell-style":e.cellStyleSmall()}},[a("el-table-column",{attrs:{label:"Name",prop:"configKey",width:"300px"}}),e._v(" "),a("el-table-column",{attrs:{label:"Value",prop:"configValue"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{model:t.row,size:"mini"}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-input",{model:{value:t.row.configValue,callback:function(a){e.$set(t.row,"configValue",a)},expression:"scope.row.configValue"}})],1)],1)]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.requestInfo.headerData.length>0,expression:"requestInfo.headerData.length > 0"}]},[a("h4",[e._v("接口Headers")]),e._v(" "),a("el-table",{attrs:{data:e.requestInfo.headerData,border:"","header-cell-style":e.cellStyle,"cell-style":e.cellStyle}},[a("el-table-column",{attrs:{label:"Name",prop:"name",width:"300px"}}),e._v(" "),a("el-table-column",{attrs:{label:"Value"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{model:t.row,size:"mini"}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-input",{model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}})],1)],1)]}}])})],1)],1)])],1),e._v(" "),a("el-tabs",{staticStyle:{"margin-top":"10px"},attrs:{type:"card"},model:{value:e.requestInfo.requestActive,callback:function(t){e.$set(e.requestInfo,"requestActive",t)},expression:"requestInfo.requestActive"}},[a("el-tab-pane",{attrs:{label:"Body",name:"body"}},[a("span",{staticClass:"result-header-label",attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{"is-dot":e.hasBody(),type:"danger"}},[a("span",[e._v("Body")])])],1),e._v(" "),a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:e.requestInfo.postActive,callback:function(t){e.$set(e.requestInfo,"postActive",t)},expression:"requestInfo.postActive"}},[a("el-radio-button",{staticClass:"json-badge",attrs:{label:"text"}},[e._v("Text")]),e._v(" "),a("el-radio-button",{attrs:{label:"form"}},[e._v("x-www-form-urlencoded "),a("span",{staticClass:"param-count"},[e._v("("+e._s(e.requestInfo.formData.length)+")")])]),e._v(" "),a("el-radio-button",{attrs:{label:"multipart"}},[e._v("multipart "),a("span",{staticClass:"param-count"},[e._v("("+e._s(e.requestInfo.multipartData.length)+")")])])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showBody("text"),expression:"showBody('text')"}]},[a("el-radio-group",{staticStyle:{"margin-bottom":"10px"},model:{value:e.contentType,callback:function(t){e.contentType=t},expression:"contentType"}},[a("el-radio",{attrs:{label:"application/json;charset=UTF-8"}},[e._v("JSON")]),e._v(" "),a("el-radio",{attrs:{label:"text/plain"}},[e._v("Text")]),e._v(" "),a("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),e._v(" "),a("el-radio",{attrs:{label:"text/html"}},[e._v("HTML")]),e._v(" "),a("el-radio",{attrs:{label:"application/x-javascript"}},[e._v("JavaScript")])],1),e._v(" "),a("el-form",[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:100}},model:{value:e.requestInfo.jsonBody,callback:function(t){e.$set(e.requestInfo,"jsonBody",t)},expression:"requestInfo.jsonBody"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showBody("form"),expression:"showBody('form')"}]},[a("el-table",{attrs:{data:e.requestInfo.formData,border:"","header-cell-style":e.cellStyle,"cell-style":e.cellStyle}},[a("el-table-column",{attrs:{prop:"name",label:"参数名",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{model:t.row,size:"mini"}},[a("el-form-item",{attrs:{"label-width":"0"}},["enum"===t.row.type?a("div",[a("el-select",{model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}},e._l(t.row.enums,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1):a("div",[a("el-input",{model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}})],1)])],1)]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showBody("multipart"),expression:"showBody('multipart')"}]},[a("el-upload",{staticStyle:{width:"500px","margin-bottom":"10px"},attrs:{action:"",multiple:!0,"auto-upload":!1,"on-remove":function(t,a){return e.onSelectMultiFile(t,a)},"on-change":function(t,a){return e.onSelectMultiFile(t,a)}}},[a("el-button",{attrs:{slot:"trigger",type:"primary",size:"mini"},slot:"trigger"},[e._v("上传多个文件")])],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.showBody("multipart"),expression:"showBody('multipart')"}],attrs:{data:e.requestInfo.multipartData,border:"","header-cell-style":e.cellStyle,"cell-style":e.cellStyle}},[a("el-table-column",{attrs:{prop:"name",label:"参数名",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{model:t.row,size:"mini"}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{"label-width":"0"}},["file"===t.row.type||"file"===t.row.elementType?a("el-upload",{attrs:{action:"",multiple:!0,"auto-upload":!1,"on-change":function(a,n){return e.onSelectFile(a,n,t.row)},"on-remove":function(a,n){return e.onSelectFile(a,n,t.row)}}},[a("el-button",{staticClass:"choose-file",attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[e._v("选择文件")])],1):"enum"===t.row.type?a("div",[a("el-select",{model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}},e._l(t.row.enums,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1):a("div",[a("el-input",{model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}})],1)],1)],1)]}}])})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Query",name:"query"}},[a("span",{staticClass:"result-header-label",attrs:{slot:"label"},slot:"label"},[a("span",[e._v("Query "),a("span",{staticClass:"param-count"},[e._v("("+e._s(e.requestInfo.queryData.length)+")")])])]),e._v(" "),a("el-table",{attrs:{data:e.requestInfo.queryData,border:"","header-cell-style":e.cellStyle,"cell-style":e.cellStyle}},[a("el-table-column",{attrs:{prop:"name",label:"参数名",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{model:t.row,size:"mini"}},[a("el-form-item",{attrs:{"label-width":"0"}},["enum"===t.row.type?a("div",[a("el-select",{model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}},e._l(t.row.enums,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1):a("div",[a("el-input",{model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}})],1)])],1)]}}])})],1)],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveCase}},[e._v("保存用例")]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},e._l(e.cases,(function(t,n){return a("el-tag",{key:n,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(a){return e.handleCloseCase(t)}}},[a("a",{on:{click:function(a){return e.useCase(t)}}},[e._v(e._s(t.name))])])})),1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"border-left":"1px #E4E7ED solid"},attrs:{span:e.rightSpanSize}},[a("div",{staticClass:"result-status"},[e._v("\n        Status: "),a("el-tag",{attrs:{type:e.result.status>=200&&e.result.status<300?"success":"danger"}},[e._v(e._s(e.result.status))])],1),e._v(" "),a("el-tabs",{attrs:{type:"card"},model:{value:e.resultActive,callback:function(t){e.resultActive=t},expression:"resultActive"}},[a("el-tab-pane",{attrs:{label:"返回结果",name:"body"}},[e.result.bodyIsImage?a("el-image",{attrs:{src:e.result.content,"preview-src-list":[e.result.content],autosize:{minRows:2,maxRows:200}}}):e._e(),e._v(" "),e.result.bodyIsImage?e._e():a("el-input",{attrs:{type:"textarea",readonly:!0,autosize:{minRows:2,maxRows:200}},model:{value:e.result.content,callback:function(t){e.$set(e.result,"content",t)},expression:"result.content"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Headers",name:"headers"}},[a("span",{staticClass:"result-header-label",attrs:{slot:"label"},slot:"label"},[a("span",[e._v("Headers "),a("span",{staticClass:"param-count"},[e._v("("+e._s(e.result.headerData.length)+")")])])]),e._v(" "),a("el-table",{attrs:{data:e.result.headerData,"header-cell-style":e.cellStyle,"cell-style":e.cellStyle}},[a("el-table-column",{attrs:{label:"Name",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"Value",prop:"value"}})],1)],1)],1)],1)],1)],1)}),o=[];a("4917"),a("28a5"),a("f559"),a("3b2b");a("f7cb");var l=a("e3ea"),i={name:"Docdebug",props:{item:{type:Object,default:function(){}}},data:function(){return{rightSpanSize:0,currentItem:null,itemMap:null,currentMethod:"GET",cellStyle:{paddingTop:"5px",paddingBottom:"5px"},requestUrl:"",requestGatewayUrl:"",authorization:"",contentType:"application/json;charset=UTF-8",collapseActive:"",requestInfo:{requestActive:"body",postActive:"form",jsonBody:"",formData:[],multipartData:[],queryData:[],headerData:[],globalHeaderData:[],pathData:[]},uploadFiles:[],fieldTypes:[{type:"text",label:"文本"},{type:"file",label:"文件"}],resultActive:"result",sendLoading:!1,result:{bodyIsImage:!1,headerData:[],content:"",status:0},cases:[]}},computed:{url:{get:function(){var e=this.requestUrl;return this.requestInfo.pathData.forEach((function(t){e=e.replace(new RegExp("{".concat(t.name,"}")),t.example||"{".concat(t.name,"}"))})),e},set:function(e){this.requestUrl=e}},gatewayUrl:{get:function(){var e=this.requestGatewayUrl;return e?(this.requestInfo.pathData.forEach((function(t){e=e.replace(new RegExp("{".concat(t.name,"}")),t.example||"{".concat(t.name,"}"))})),e):null},set:function(e){this.requestGatewayUrl=e}}},watch:{item:function(e){this.loadItem(e)}},methods:{loadItem:function(e){var t=this;this.currentItem=e,this.currentMethod=e.method,this.requestUrl=this.bindUrl(e),this.requestGatewayUrl=e.gatewayUrl,this.bindRequestParam(e),this.loadGlobalHeaders((function(e){t.requestInfo.globalHeaderData=e.data})),this.loadCases(e)},loadCases:function(e){var t=this;e.swaggerId&&this.get("/doc-cases",{swaggerId:e.swaggerId,path:e.path,method:e.method},(function(e){t.cases=e.data}))},useCase:function(e){var t=JSON.parse(e.content);this.authorization=t.authorization,this.requestInfo.requestActive=t.requestActive,this.requestInfo.postActive=t.postActive,this.requestInfo.jsonBody=t.jsonBody,this.replaceFieldValue(this.requestInfo.formData,"name","example",t.formData),this.replaceFieldValue(this.requestInfo.multipartData,"name","example",t.multipartData),this.replaceFieldValue(this.requestInfo.queryData,"name","example",t.queryData),this.replaceFieldValue(this.requestInfo.headerData,"name","example",t.headerData),this.replaceFieldValue(this.requestInfo.globalHeaderData,"configKey","configValue",t.globalHeaderData),this.replaceFieldValue(this.requestInfo.pathData,"name","example",t.pathData),this.$message({type:"info",message:"已使用用例"+e.name})},replaceFieldValue:function(e,t,a,n){n&&e&&e.forEach((function(e){e[a]=n[e[t]]}))},getParamMap:function(){return{authorization:this.authorization,requestActive:this.requestInfo.requestActive,postActive:this.requestInfo.postActive,jsonBody:this.requestInfo.jsonBody,formData:this.paramToMap(this.requestInfo.formData,"name","example"),multipartData:this.paramToMap(this.requestInfo.multipartData,"name","example"),queryData:this.paramToMap(this.requestInfo.queryData,"name","example"),headerData:this.paramToMap(this.requestInfo.headerData,"name","example"),globalHeaderData:this.paramToMap(this.requestInfo.globalHeaderData,"configKey","configValue"),pathData:this.paramToMap(this.requestInfo.pathData,"name","example")}},paramToMap:function(e,t,a){var n={};return e.forEach((function(e){var r=e[t];n[r]=e[a]})),n},handleCloseCase:function(e){var t=this;this.$confirm("确认删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){t.request("DELETE","/doc-cases/"+e.id,{},{},!1,!1,!1,(function(){t.cases.splice(t.cases.indexOf(e),1)}))})).catch((function(){t.$message({type:"info",message:"已取消保存用例"})}))},saveCase:function(){var e=this;this.$prompt("请输入用例名称","保存用例",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"用例名必须填写"}).then((function(t){var a=t.value;a?e.post("/doc-cases",{name:a,swaggerId:e.currentItem.swaggerId,path:e.currentItem.path,method:e.currentItem.method,content:JSON.stringify(e.getParamMap())},(function(t){e.cases.unshift(t.data),e.$message({type:"success",message:"保存用例成功"})})):e.$message({type:"error",message:"用例名必须填写"})})).catch((function(){e.$message({type:"info",message:"已取消保存用例"})}))},bindUrl:function(e){return e.requestUrl+e.path},bindRequestParam:function(e){var t=[],a=[],n=[],r=[],s=[],o=this.isQueryStringMethod(e),l=e.requestParameters,i=e.uploadRequest;l.forEach((function(e){var l=e.in;"path"===l?s.push(e):"header"===l?r.push(e):o?t.push(e):i||"formData"===l?n.push(e):a.push(e)})),this.requestInfo.headerData=r,this.requestInfo.queryData=t,this.requestInfo.formData=a,this.requestInfo.multipartData=n,this.requestInfo.pathData=s;var u=l.filter((function(e){return"body"===e.in})),c=u.length>0;if(c){var p="";if(1===u.length&&null==u[0].name&&u[0].type.startsWith("array(")){var f=u[0].type.indexOf("string")>-1?"test1":0;p=[f]}else{var d=u.filter((function(e){return"array"===e.parentType})).length===u.length;p=this.createResponseExample(u),d&&(p=[p])}this.requestInfo.jsonBody=JSON.stringify(p,null,4)}if(this.requestInfo.requestActive=o?"query":"body",this.requestInfo.multipartData.length>0)this.requestInfo.postActive="multipart";else{var m="";c?m="text":this.requestInfo.formData.length>0&&(m="form"),this.requestInfo.postActive=m,this.requestInfo.postActive||(this.requestInfo.requestActive="query")}},isQueryStringMethod:function(e){return["get","head"].indexOf(e.method.toLowerCase())>-1},hasBody:function(){return this.requestInfo.jsonBody.length>0||this.requestInfo.formData.length>0||this.requestInfo.multipartData.length>0},showBody:function(e){return this.requestInfo.postActive===e},onSelectFile:function(e,t,a){var n=[];t.forEach((function(e){var t=e.raw;n.push(t)})),a.__file__={name:a.name,files:n}},onSelectMultiFile:function(e,t){var a=[];t.forEach((function(e){var t=e.raw;a.push(t)})),this.uploadFiles=a},send:function(){var e=this.currentItem,t=this.buildRequestHeaders(),a=this.getParamObj(this.requestInfo.queryData),n=!1,r=!1,s=!1;switch(this.requestInfo.postActive){case"text":t["Content-Type"]=this.contentType,a=this.requestInfo.jsonBody,this.contentType.indexOf("json")>-1&&(n=!0);break;case"form":r=!0,a=this.getParamObj(this.requestInfo.formData);break;case"multipart":s=this.requestInfo.multipartData.length>0||this.uploadFiles.length>0,a=this.getParamObj(this.requestInfo.multipartData);break;default:}this.sendLoading=!0,this.request(e.method,"/doc/proxy",a,t,n,r,s,this.doProxyResponse)},sendGateway:function(){var e=this.currentItem,t=this.buildRequestHeaders();t["target-url"]=this.gatewayUrl,this.authorization&&(t["Authorization"]="Bearer "+this.authorization);var a=this.getParamObj(this.requestInfo.queryData),n=!1,r=!1,s=!1;switch(this.requestInfo.postActive){case"text":t["Content-Type"]=this.contentType,a=this.requestInfo.jsonBody,this.contentType.indexOf("json")>-1&&(n=!0);break;case"form":r=!0,a=this.getParamObj(this.requestInfo.formData);break;case"multipart":s=this.requestInfo.multipartData.length>0||this.uploadFiles.length>0,a=this.getParamObj(this.requestInfo.multipartData);break;default:}this.sendLoading=!0,this.request(e.method,"/doc/proxy",a,t,n,r,s,this.doProxyResponse)},buildRequestHeaders:function(){var e={};return this.requestInfo.headerData.forEach((function(t){e[t.name]=t.example||""})),this.requestInfo.globalHeaderData.forEach((function(t){e[t.configKey]=t.configValue})),e["target-url"]=this.url,e},getParamObj:function(e){var t=this,a={};if(e.forEach((function(e){var n=e.__file__;if(n){var r=t.getFileConfigs(a);r.push(n)}else null!==e.example&&""!==e.example&&(a[e.name]=e.example)})),this.uploadFiles.length>0){var n=this.getFileConfigs(a);n.push({name:"file",files:this.uploadFiles})}return a},getFileConfigs:function(e){var t=e["__files__"];return t||(t=[],e["__files__"]=t),t},doProxyResponse:function(e,t){this.sendLoading=!1,e?this.$message.error(e):(this.buildResultHeaders(t),this.buildResultStatus(e,t),this.buildResultContent(e,t))},buildResultStatus:function(e,t){if(e)this.result.status=0;else{var a=t.headers["target-statuscode"];this.result.status=a?parseInt(a):0}},buildResultContent:function(e,t){var a=t.targetHeaders,n=a["content-type"]||"",r=a["content-disposition"]||"",s=this.currentItem.produces&&this.currentItem.produces.join("");if(this.openRightPanel(),n.indexOf("stream")>-1||s.indexOf("stream")>-1||r.indexOf("attachment")>-1){var o=a["content-disposition"],l=this.getDispositionFilename(o);this.downloadFile(l,t.raw)}else{var i="";if(e)i=e.message;else{var u=t.data;if(u)try{i=this.formatResponse(n,u)}catch(f){console.error("格式转换错误",f),i=t.data}else{var c=t.raw;if(c&&c.length>0)if(n&&n.toLowerCase().indexOf("image")>-1)this.result.bodyIsImage=!0,i="data:"+n.toLowerCase()+";base64,"+btoa(c.reduce((function(e,t){return e+String.fromCharCode(t)}),""));else{this.result.bodyIsImage=!1;var p=(new TextDecoder).decode(c);try{i=this.formatResponse(n,p)}catch(f){console.error("格式转换错误",f),i=p}}}}this.result.content=i}},formatResponse:function(e,t){if(this.isObject(t))return this.formatJson(t);if(!e)return t;var a=e.toLowerCase();return a.indexOf("json")>-1?this.formatJson(JSON.parse(t)):a.indexOf("xml")>-1?l(t):t},formatJson:function(e){return JSON.stringify(e,null,4)},downloadFile:function(e,t){var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click()},getDispositionFilename:function(e){for(var t=e.split(";"),a=0;a<t.length;a++){var n=t[a].trim();if(n.toLowerCase().startsWith("filename")){var r=n.match(new RegExp('filename="(.*?)"',"i"));return r?r[1]:""}}},buildResultHeaders:function(e){var t=e.headers,a=t["target-response-headers"]||JSON.stringify(t),n=JSON.parse(a);e.targetHeaders=n;var r=[];if(n)for(var s in n)r.push({name:s,value:n[s]});this.result.headerData=r},openRightPanel:function(){this.resultActive="body",this.rightSpanSize=10}}},u=i,c=(a("66a7"),a("2877")),p=Object(c["a"])(u,s,o,!1,null,null,null),f=p.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.data,border:"","row-key":"id","default-expand-all":"","tree-props":{children:"refs",hasChildren:"hasChildren"},"cell-style":e.cellStyleSmall(),"header-cell-style":e.headCellStyleSmall(),"empty-text":"无参数"}},[a("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.name?a("span",[e._v(e._s(t.row.name))]):e._e(),e._v(" "),t.row.name?e._e():a("span",[e._v("-")])]}}])}),e._v(" "),e.showIn?a("el-table-column",{attrs:{prop:"in",label:"参数类型",width:"100"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"数据类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.type))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"array"===t.row.type&&t.row.elementType,expression:"scope.row.type === 'array' && scope.row.elementType"}]},[a("el-tooltip",{attrs:{effect:"dark",content:"元素类型："+t.row.elementType,placement:"top"}},[a("i",{staticClass:"el-icon-info"})])],1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"object"===t.row.type&&t.row.elementType,expression:"scope.row.type === 'object' && scope.row.elementType"}]},[a("el-tooltip",{attrs:{effect:"dark",content:"对象类型："+t.row.elementType,placement:"top"}},[a("i",{staticClass:"el-icon-info"})])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"required",label:"必须",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:t.row.required?"danger":""},[e._v(e._s(t.row.required?"是":"否"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"example",label:"示例值"},scopedSlots:e._u([{key:"default",fn:function(t){return["enum"===t.row.type?a("div",[e._v("\n        "+e._s((t.row.enums||[]).join("、"))+"\n      ")]):a("div",[e._v("\n        "+e._s(t.row.example)+"\n      ")])]}}])})],1)},m=[],h={name:"ParameterTable",props:{data:{type:Array,default:function(){return[]}},tree:{type:Boolean,default:!0},showIn:{type:Boolean,default:!1}}},v=h,y=Object(c["a"])(v,d,m,!1,null,null,null),b=y.exports,g={components:{Docdebug:f,ParameterTable:b},data:function(){return{active:"info",item:{swaggerId:void 0,path:void 0,method:"",consumes:[],produces:[],requestParameters:[],responseParameters:[]},requestUrl:"",currentMethod:""}},computed:{swaggerId:{get:function(){return this.getUrlSwaggerId()||this.getSwaggerId()},set:function(e){this.setSwaggerId(e)}}},created:function(){var e=this,t=this.swaggerId,a=this.decodePathAndMethod();if(t&&a.path&&a.method){var n={path:a.path,method:a.method};this.get("/doc/".concat(this.swaggerId,"/item"),n,(function(t){e.item=t.data}))}else this.tipError("未找到文档信息")},methods:{formatParameters:function(e){return e.filter((function(e){return"header"!==e.in}))},formatHeaders:function(e){return e.filter((function(e){return"header"===e.in}))},trans2TsInterfaceStr:function(e,t){return this.trans2TsInterface(null,e,t,[])},trans2TsInterface:function(e,t,a,n){var r=this;if(null==t)return"";if(null!=e&&n.indexOf(e)>=0)return"";var s=null!=e?"\n\n":"";s+="interface ",s+=this.getInterfaceName(e,a),s+=" {";var o=[];return n.push(e),t.forEach((function(e){var t=r.trans2TsFieldStr(e,a);s+=t,"object"!==e.type&&"array"!==e.type||null==e.elementType||o.push(e)})),s+="\n}",o.forEach((function(e){s+=r.trans2TsInterface(e.elementType,e.refs,a,n)})),s},trans2TsFieldStr:function(e,t){if(null==e.type||null==e.name)return"";var a=e.type;return"integer"===a&&(a="number"),"object"!==e.type&&"array"!==e.type||(a=this.getInterfaceName(e.elementType,t)),"\n  /** "+(t?"":e.required?"必填 ":"非必填 ")+(e.description?e.description:"")+" */\n  "+e.name+"?: "+a+("array"===e.type?"[]":"")},getInterfaceName:function(e,t){if(null==e)return t?"Resp":"Req";var a=e.indexOf("«");return e=a>=0?e.substr(0,a):e.replace("对象",""),e.endsWith("VO")?e=e.substr(0,e.length-2):e.endsWith("DTO")&&(e=e.substr(0,e.length-3)),e+(t?"Resp":"Req")}}},w=g,_=(a("8868"),Object(c["a"])(w,n,r,!1,null,null,null));t["default"]=_.exports},"11e9":function(e,t,a){var n=a("52a7"),r=a("4630"),s=a("6821"),o=a("6a99"),l=a("69a8"),i=a("c69a"),u=Object.getOwnPropertyDescriptor;t.f=a("9e1e")?u:function(e,t){if(e=s(e),t=o(t,!0),i)try{return u(e,t)}catch(a){}if(l(e,t))return r(!n.f.call(e,t),e[t])}},"1e6f":function(e,t,a){},2579:function(e,t){function a(e,t={}){function a(){return l()||p()||c()||u()}function n(){return m(/\s*/),l(!0)||c()||i()||o(!1)}function r(){const e=s(),t=[];let a,r=n();while(r){if("Element"===r.node.type){if(a)throw new Error("Found multiple root nodes");a=r.node}r.excluded||t.push(r.node),r=n()}if(!a)throw new Error("Failed to parse XML");return{declaration:e?e.node:null,root:a,children:t}}function s(){return o(!0)}function o(e){const a=m(e?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!a)return;const n={name:a[1],type:"ProcessingInstruction",attributes:{}};while(!h()&&!v("?>")){const e=f();if(!e)return n;n.attributes[e.name]=e.value}return m(/\?>/),{excluded:!e&&!1===t.filter(n),node:n}}function l(e){const n=m(/^<([\w-:.]+)\s*/);if(!n)return;const r={type:"Element",name:n[1],attributes:{},children:[]};while(!(h()||v(">")||v("?>")||v("/>"))){const e=f();if(!e)return r;r.attributes[e.name]=e.value}const s=!e&&!1===t.filter(r);if(m(/^\s*\/>/))return r.children=null,{excluded:s,node:r};if(m(/\??>/),!s){let e=a();while(e)e.excluded||r.children.push(e.node),e=a()}return m(/^<\/[\w-:.]+>/),{excluded:s,node:r}}function i(){const e=m(/^<!DOCTYPE\s+[^>]*>/);if(e){const a={type:"DocumentType",content:e[0]};return{excluded:!1===t.filter(a),node:a}}}function u(){if(e.startsWith("<![CDATA[")){const a=e.indexOf("]]>");if(a>-1){const n=a+3,r={type:"CDATA",content:e.substring(0,n)};return e=e.slice(n),{excluded:!1===t.filter(r),node:r}}}}function c(){const e=m(/^<!--[\s\S]*?-->/);if(e){const a={type:"Comment",content:e[0]};return{excluded:!1===t.filter(a),node:a}}}function p(){const e=m(/^([^<]+)/);if(e){const a={type:"Text",content:e[1]};return{excluded:!1===t.filter(a),node:a}}}function f(){const e=m(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(e)return{name:e[1],value:d(e[2])}}function d(e){return e.replace(/^['"]|['"]$/g,"")}function m(t){const a=e.match(t);if(a)return e=e.slice(a[0].length),a}function h(){return 0===e.length}function v(t){return 0===e.indexOf(t)}return t.filter=t.filter||(()=>!0),e=e.trim(),r()}e.exports=a},"3b2b":function(e,t,a){var n=a("7726"),r=a("5dbc"),s=a("86cc").f,o=a("9093").f,l=a("aae3"),i=a("0bfb"),u=n.RegExp,c=u,p=u.prototype,f=/a/g,d=/a/g,m=new u(f)!==f;if(a("9e1e")&&(!m||a("79e5")((function(){return d[a("2b4c")("match")]=!1,u(f)!=f||u(d)==d||"/a/i"!=u(f,"i")})))){u=function(e,t){var a=this instanceof u,n=l(e),s=void 0===t;return!a&&n&&e.constructor===u&&s?e:r(m?new c(n&&!s?e.source:e,t):c((n=e instanceof u)?e.source:e,n&&s?i.call(e):t),a?this:p,u)};for(var h=function(e){e in u||s(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},v=o(c),y=0;v.length>y;)h(v[y++]);p.constructor=u,u.prototype=p,a("2aba")(n,"RegExp",u)}a("7a56")("RegExp")},4917:function(e,t,a){"use strict";var n=a("cb7c"),r=a("9def"),s=a("0390"),o=a("5f1b");a("214f")("match",1,(function(e,t,a,l){return[function(a){var n=e(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=l(a,e,this);if(t.done)return t.value;var i=n(e),u=String(this);if(!i.global)return o(i,u);var c=i.unicode;i.lastIndex=0;var p,f=[],d=0;while(null!==(p=o(i,u))){var m=String(p[0]);f[d]=m,""===m&&(i.lastIndex=s(u,r(i.lastIndex),c)),d++}return 0===d?null:f}]}))},"5dbc":function(e,t,a){var n=a("d3f4"),r=a("8b97").set;e.exports=function(e,t,a){var s,o=t.constructor;return o!==a&&"function"==typeof o&&(s=o.prototype)!==a.prototype&&n(s)&&r&&r(e,s),e}},"66a7":function(e,t,a){"use strict";a("1e6f")},8868:function(e,t,a){"use strict";a("bf01")},"8b97":function(e,t,a){var n=a("d3f4"),r=a("cb7c"),s=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,a){return s(e,a),t?e.__proto__=a:n(e,a),e}}({},!1):void 0),check:s}},9093:function(e,t,a){var n=a("ce10"),r=a("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},bf01:function(e,t,a){},e3ea:function(e,t,a){function n(e){if(!e.options.indentation&&!e.options.lineSeparator)return;let t;for(e.content+=e.options.lineSeparator,t=0;t<e.level;t++)e.content+=e.options.indentation}function r(e,t){e.content+=t}function s(e,t,a){if("string"===typeof e.content)o(e,t,a);else if("Element"===e.type)l(e,t,a);else{if("ProcessingInstruction"!==e.type)throw new Error("Unknown node type: "+e.type);u(e,t,a)}}function o(e,t,a){a||(e.content=e.content.trim()),e.content.length>0&&(!a&&t.content.length>0&&n(t),r(t,e.content))}function l(e,t,a){if(!a&&t.content.length>0&&n(t),r(t,"<"+e.name),i(t,e.attributes),null===e.children){const e=t.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";r(t,e)}else if(0===e.children.length)r(t,"></"+e.name+">");else{r(t,">"),t.level++;let o="preserve"===e.attributes["xml:space"];if(!o&&t.options.collapseContent){const t=e.children.some((function(e){return"Text"===e.type&&""!==e.content.trim()}));t&&(o=!0)}e.children.forEach((function(e){s(e,t,a||o,t.options)})),t.level--,a||o||n(t),r(t,"</"+e.name+">")}}function i(e,t){Object.keys(t).forEach((function(a){const n=t[a].replace(/"/g,"&quot;");r(e," "+a+'="'+n+'"')}))}function u(e,t){t.content.length>0&&n(t),r(t,"<?"+e.name),i(t,e.attributes),r(t,"?>")}function c(e,t={}){t.indentation="indentation"in t?t.indentation:"    ",t.collapseContent=!0===t.collapseContent,t.lineSeparator="lineSeparator"in t?t.lineSeparator:"\r\n",t.whiteSpaceAtEndOfSelfclosingTag=!!t.whiteSpaceAtEndOfSelfclosingTag;const n=a("2579"),r=n(e,{filter:t.filter}),o={content:"",level:0,options:t};return r.declaration&&u(r.declaration,o),r.children.forEach((function(e){s(e,o,!1)})),o.content}e.exports=c},f559:function(e,t,a){"use strict";var n=a("5ca1"),r=a("9def"),s=a("d2c8"),o="startsWith",l=""[o];n(n.P+n.F*a("5147")(o),"String",{startsWith:function(e){var t=s(this,e,o),a=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return l?l.call(t,n,a):t.slice(a,a+n.length)===n}})},f7cb:function(e,t,a){(function(e,t){(function(e){function a(){}function n(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===l.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(e){return t.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}function s(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var a=new XMLHttpRequest;return a.open("GET",t,!1),a.send(),a.responseText}catch(n){return o(e)}finally{URL.revokeObjectURL(t)}}function o(e){for(var t=0,a=Math.min(65536,e.length+1),n=new Uint16Array(a),r=[],s=0;;){var o=t<e.length;if(!o||s>=a-1){if(r.push(String.fromCharCode.apply(null,n.subarray(0,s))),!o)return r.join("");e=e.subarray(t),s=t=0}if(o=e[t++],0===(128&o))n[s++]=o;else if(192===(224&o)){var l=63&e[t++];n[s++]=(31&o)<<6|l}else if(224===(240&o)){l=63&e[t++];var i=63&e[t++];n[s++]=(31&o)<<12|l<<6|i}else if(240===(248&o)){l=63&e[t++],i=63&e[t++];var u=63&e[t++];o=(7&o)<<18|l<<12|i<<6|u,65535<o&&(o-=65536,n[s++]=o>>>10&1023|55296,o=56320|1023&o),n[s++]=o}}}if(e.TextEncoder&&e.TextDecoder)return!1;var l=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(a.prototype,"encoding",{value:"utf-8"}),a.prototype.encode=function(e,t){if(t=void 0===t?{stream:!1}:t,t.stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var a=e.length,n=0,r=Math.max(32,a+(a>>>1)+7),s=new Uint8Array(r>>>3<<3);t<a;){var o=e.charCodeAt(t++);if(55296<=o&&56319>=o){if(t<a){var l=e.charCodeAt(t);56320===(64512&l)&&(++t,o=((1023&o)<<10)+(1023&l)+65536)}if(55296<=o&&56319>=o)continue}if(n+4>s.length&&(r+=8,r*=1+t/e.length*2,r=r>>>3<<3,l=new Uint8Array(r),l.set(s),s=l),0===(4294967168&o))s[n++]=o;else{if(0===(4294965248&o))s[n++]=o>>>6&31|192;else if(0===(4294901760&o))s[n++]=o>>>12&15|224,s[n++]=o>>>6&63|128;else{if(0!==(4292870144&o))continue;s[n++]=o>>>18&7|240,s[n++]=o>>>12&63|128,s[n++]=o>>>6&63|128}s[n++]=63&o|128}}return s.slice?s.slice(0,n):s.subarray(0,n)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var i=o;"function"===typeof t&&t.from?i=r:"function"===typeof Blob&&"function"===typeof URL&&"function"===typeof URL.createObjectURL&&(i=s),n.prototype.decode=function(e,t){if(t=void 0===t?{stream:!1}:t,t.stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),i(e)},e.TextEncoder=a,e.TextDecoder=n})("undefined"!==typeof window?window:"undefined"!==typeof e?e:this)}).call(this,a("c8ba"),a("b639").Buffer)}}]);